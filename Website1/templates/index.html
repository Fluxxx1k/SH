<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Hitler - Онлайн Игра</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="game-title">Secret Hitler</h1>
            <p class="game-subtitle">Онлайн версия популярной настольной игры</p>
        </header>

        <main class="main-content">
            <div class="game-description">
                <h2>Об игре</h2>
                <p>Secret Hitler - это социальная дедукционная игра для 4-10 игроков, где либералы и фашисты сражаются за контроль над правительством.</p>
                <div class="roles-info">
                    <div class="role liberal">
                        <h3>Либералы</h3>
                        <p>Большинство игроков. Их цель - принять либеральные законы и предотвратить приход Гитлера к власти.</p>
                    </div>
                    <div class="role fascist">
                        <h3>Фашисты</h3>
                        <p>Меньшинство. Их цель - принять фашистские законы и избрать Гитлера канцлером.</p>
                    </div>
                    <div class="role hitler">
                        <h3>Гитлер</h3>
                        <p>Один из фашистов. Если он станет канцлером после третьего фашистского закона - фашисты побеждают.</p>
                    </div>
                </div>
            </div>

            <div class="game-actions">
                <div class="action-card">
                    <h3>Начать игру</h3>
                    <p>Создайте новую игру или присоединяйтесь к существующей</p>
                    <div class="button-group">
                        <a href="{{ url_for('login') }}" class="btn btn-primary">Войти в игру</a>
                        <a href="{{ url_for('register') }}" class="btn btn-secondary">Регистрация</a>
                    </div>
                </div>

                <div class="action-card">
                    <h3>Правила игры</h3>
                    <p>Изучите правила перед началом игры</p>
                    <button class="btn btn-info" onclick="showRules()">Показать правила</button>
                </div>
            </div>

            <div class="game-stats">
                <h3>Статистика</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number">{{ stats.active_games|default(0) }}</span>
                        <span class="stat-label">Активных игр</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ stats.online_players|default(0) }}</span>
                        <span class="stat-label">Игроков онлайн</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ stats.total_players|default(0) }}</span>
                        <span class="stat-label">Всего игроков</span>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>&copy; 2024 Secret Hitler Online. Все права защищены.</p>
        </footer>
    </div>

    <!-- Модальное окно с правилами -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeRules()">&times;</span>
            <h2>Правила игры Secret Hitler</h2>
            
            <h3>Цель игры</h3>
            <p><strong>Либералы:</strong> Принять 5 либеральных законов или убить Гитлера.</p>
            <p><strong>Фашисты:</strong> Принять 6 фашистских законов или избрать Гитлера канцлером после третьего фашистского закона.</p>

            <h3>Ход игры</h3>
            <ol>
                <li><strong>Выбор президента:</strong> Игроки по очереди становятся президентами.</li>
                <li><strong>Выбор канцлера:</strong> Президент выбирает канцлера из оставшихся игроков.</li>
                <li><strong>Голосование:</strong> Все игроки голосуют за правительство.</li>
                <li><strong>Принятие законов:</strong> Президент и канцлер выбирают, какие законы принять.</li>
                <li><strong>Исполнительные действия:</strong> После принятия фашистских законов президент получает особые полномочия.</li>
            </ol>

            <h3>Исполнительные действия</h3>
            <ul>
                <li><strong>1 фашистский закон:</strong> Проверка партийной принадлежности игрока.</li>
                <li><strong>2 фашистских закона:</strong> Проверка партийной принадлежности игрока.</li>
                <li><strong>3 фашистских закона:</strong> Убийство игрока.</li>
                <li><strong>4 фашистских закона:</strong> Убийство игрока.</li>
                <li><strong>5 фашистских закона:</strong> Убийство игрока.</li>
            </ul>

            <h3>Победа</h3>
            <p>Игра заканчивается, когда одна из сторон достигает своей цели. Будьте осторожны - фашисты знают друг друга, но либералы не знают, кто есть кто!</p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='index.js') }}"></script>
</body>
</html>