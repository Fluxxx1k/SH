<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if error_code %}{{ error_code }} - {% endif %}–û—à–∏–±–∫–∞ - Secret Hitler</title>
    <link rel="stylesheet" href="{{ safe_url_for('static', filename='index.css') }}">
    <link rel="stylesheet" href="{{ safe_url_for('static', filename='error.css') }}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="game-title">Secret Hitler</h1>
            <p class="game-subtitle">–û—à–∏–±–∫–∞</p>
        </header>

        <main class="main-content">
            <div class="error-container">
                <div class="error-icon">
                    {% if error_code %}
                        {% if error_code == 404 %}
                            <div class="error-404">üïµÔ∏è</div>
                            <svg width="80" height="80" style="margin-top: 10px;">
                                <use href="{{ safe_url_for('static', filename='error-icons.svg') }}#detective"></use>
                            </svg>
                        {% elif error_code == 500 %}
                            <div class="error-500">‚ö†Ô∏è</div>
                            <svg width="80" height="80" style="margin-top: 10px;">
                                <use href="{{ safe_url_for('static', filename='error-icons.svg') }}#error-500"></use>
                            </svg>
                        {% elif error_code == 403 %}
                            <div class="error-403">üîí</div>
                            <svg width="80" height="80" style="margin-top: 10px;">
                                <use href="{{ safe_url_for('static', filename='error-icons.svg') }}#shield"></use>
                            </svg>
                        {% elif error_code == 401 %}
                            <div class="error-401">üîê</div>
                            <svg width="80" height="80" style="margin-top: 10px;">
                                <use href="{{ safe_url_for('static', filename='error-icons.svg') }}#error-401"></use>
                            </svg>
                        {% else %}
                            <div class="error-generic">‚ùå</div>
                            <svg width="80" height="80" style="margin-top: 10px;">
                                <use href="{{ safe_url_for('static', filename='error-icons.svg') }}#error-generic"></use>
                            </svg>
                        {% endif %}
                    {% else %}
                        <div class="error-generic">‚ùå</div>
                        <svg width="80" height="80" style="margin-top: 10px;">
                            <use href="{{ safe_url_for('static', filename='error-icons.svg') }}#error-generic"></use>
                        </svg>
                    {% endif %}
                </div>

                <div class="error-content">
                    <h1 class="error-title">
                        {% if error_code %}
                            –û—à–∏–±–∫–∞ {{ error_code }}
                        {% else %}
                            –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
                        {% endif %}
                    </h1>
                    
                    {% if error_message %}
                        <p class="error-message">{{ error_message }}</p>
                    {% else %}
                        <p class="error-message">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</p>
                    {% endif %}

                    {% if error_description %}
                        <div class="error-description">
                            <p>{{ error_description }}</p>
                        </div>
                    {% endif %}

                    {% if error_comment %}
                        <div class="error-comment">
                            <p><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</strong> {{ error_comment }}</p>
                        </div>
                    {% endif %}

                    {% if suggestion %}
                        <div class="error-suggestion">
                            <h3>–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:</h3>
                            <p>{{ suggestion }}</p>
                        </div>
                    {% else %}
                        <div class="error-suggestion">
                            <h3>–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:</h3>
                            <ul>
                                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞</li>
                                <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</li>
                                <li>–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è</li>
                            </ul>
                        </div>
                    {% endif %}
                </div>

                <div class="error-actions">
                    <a href="{{ safe_url_for('index') }}" class="btn btn-primary">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                    
                    {% if 'username' in session %}
                        <a href="{{ safe_url_for('lobby') }}" class="btn btn-secondary">–í –ª–æ–±–±–∏</a>
                    {% else %}
                        <a href="{{ safe_url_for('login') }}" class="btn btn-secondary">–í–æ–π—Ç–∏</a>
                    {% endif %}
                    
                    <button onclick="history.back()" class="btn btn-info">–ù–∞–∑–∞–¥</button>
                </div>

                {% if debug_info and config.DEBUG|default(false) %}
                    <div class="error-debug">
                        <h3>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤):</h3>
                        <pre>{{ debug_info }}</pre>
                    </div>
                {% endif %}
            </div>
        </main>

        <footer class="footer">
            <p>&copy; 2024 Secret Hitler Online. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </footer>
    </div>
</body>
</html>